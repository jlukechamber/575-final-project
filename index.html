<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
    
<title>Continents of the Mind</title>

    <!--put your external stylesheet links here-->
    <link rel="stylesheet" href="lib/bootstrap.min.css">
    <link rel="stylesheet" href="lib/leaflet.css">
    <link rel="stylesheet" href="css/style.css">
<style>
   
</style>


</head>
    <!--put your initial page content here-->
    <!--scroll content-->
    <!-- <div id="mapid"></div> -->
    <body>
    <style>
    #mapid {
    position: fixed;
    width: 50%;
    }
    #features {
    width: 50%;
    margin-left: 50%;
    font-family: sans-serif;
    overflow-y: scroll;
    background-color: #fafafa;
    }
    section {
    padding: 25px 50px;
    line-height: 25px;
    border-bottom: 1px solid #ddd;
    opacity: 0.25;
    font-size: 13px;
    }
    section.active {
    opacity: 1;
    }
    section:last-child {
    border-bottom: none;
    margin-bottom: 200px;
    }
    </style>
     
<div id="map"></div>
<div id="features">
<section id="Body" class="active">
        <h3>MIND BODY</h3>
<p>
November 1895. London is shrouded in fog and Sherlock Holmes and
Watson pass time restlessly awaiting a new case. "The London
criminal is certainly a dull fellow," Sherlock bemoans. "There have
been numerous petty thefts," Watson offers in response. Just then a
telegram arrives from Sherlock's brother Mycroft with a mysterious
case.
</p>
</section>
<section id="Conciousness">
<h3>Conciousness</h3>
<p>
Arthur Cadogan West was found dead, head crushed in on train tracks
at Aldgate Station at 6AM Tuesday morning. West worked at Woolwich
Arsenal on the Bruce-Partington submarine, a secret military
project. Plans for the submarine had been stolen and seven of the
ten missing papers were found in West's possession. Mycroft implores
Sherlock to take the case and recover the three missing papers.
</p>
</section>
<section id="Subjectivity">
<h3>Subjectivity</h3>
<p>
Holmes and Watson's investigations take them across London. Sherlock
deduces that West was murdered elsewhere, then moved to Aldgate
Station to create the illusion that he was crushed on the tracks by
a train. On their way to Woolwich Sherlock dispatches a telegram to
Mycroft at London Bridge: "Send list of all foreign spies known to
be in England, with full address."
</p>
</section>
<section id="Ego">
<h3>Ego</h3>
<p>
While investigating at Woolwich Arsenal Sherlock learns that West
did not have the three keysdoor, office, and
safe necessary to steal the papers. The train station clerk
mentions seeing an agitated West boarding the 8:15 train to London
Bridge. Sherlock suspects West of following someone who had access
to the Woolwich chief's keyring with all three keys.
</p>
</section>
<section id="Antiego">
<h3>Antiego</h3>
<p>
Mycroft responds to Sherlock's telegram and mentions several spies.
Hugo Oberstein of 13 Caulfield Gardens catches Sherlock's eye. He
heads to the nearby Gloucester Road station to investigate and
learns that the windows of Caulfield Gardens open over rail tracks
where trains stop frequently.
</p>
</section>
<section id="Other">
<h3>Other</h3>
<p>
Holmes deduces that the murderer placed West atop a stopped train at
Caulfield Gardens. The train traveled to Aldgate Station before
West's body finally toppled off. Backtracking to the criminal's
apartment, Holmes finds a series of classified ads from
<em>The Daily Telegraph</em> stashed away. All are under the name
Pierrot: "Monday night after nine. Two taps. Only ourselves. Do not
be so suspicious. Payment in hard cash when goods delivered."
</p>
</section>
<section id="Will">
<h3>Will</h3>
<p>
Holmes and Watson head to The Daily Telegraph and place an ad to
draw out the criminal. It reads: "To-night. Same hour. Same place.
Two taps. Most vitally important. Your own safety at stake.
Pierrot." The trap works and Holmes catches the criminal: Colonel
Valentine Walter, the brother of Woolwich Arsenal's chief. He
confesses to working for Hugo Oberstein to obtain the submarine
plans in order to pay off his debts.
</p>
</section>
<section id="Freedom">
<h3>Freedom</h3>
<p>
Walter writes to Oberstein and convinces him to meet in the smoking
room of the Charing Cross Hotel where he promises additional plans
for the submarine in exchange for money. The plan works and Holmes
and Watson catch both criminals.
</p>
</section>
<section id="Unconsciousness">
    <h3>Unconsciousness</h3>
    <p>
    Walter writes to Oberstein and convinces him to meet in the smoking
    room of the Charing Cross Hotel where he promises additional plans
    for the submarine in exchange for money. The plan works and Holmes
    and Watson catch both criminals.
    </p>
    </section>
    <section id="Objectivity">
        <h3>Objectivity</h3>
        <p>
        Walter writes to Oberstein and convinces him to meet in the smoking
        room of the Charing Cross Hotel where he promises additional plans
        for the submarine in exchange for money. The plan works and Holmes
        and Watson catch both criminals.
        </p>
        </section>


   <script>
//add tileset here 

// mapboxgl.accessToken = 'pk.eyJ1IjoicmFuZGltYWVzIiwiYSI6ImNsYTJveDBuMzBqOTkzcG1oZ3dyNXE5ZjEifQ.KopBuoAxGQO2d1NO_sNSOA';
// const map = new mapboxgl.Map({
// container: 'map',
// // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
// style: 'mapbox://styles/mapbox/streets-v12',
// center: [-0.15591514, 51.51830379],
// zoom: 15.5,
// bearing: 27,
// pitch: 45
// });
mapboxgl.accessToken = 'Ypk.eyJ1IjoicmFuZGltYWVzIiwiYSI6ImNsYTJveDBuMzBqOTkzcG1oZ3dyNXE5ZjEifQ.KopBuoAxGQO2d1NO_sNSOA';

// Initialize the map
const map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/randimaes/clh418hoa019301p477eg0jbm',
  center: [36.189, -152.551],
  zoom: 6.71
});


        const fly= {
    'Body': {
        center:[35.7988407, -154.1422696],
        zoom: 9
    },
    
    'Conciousness': {
        center:[-153.4242405, 36.1905128],
        zoom: 9
    },
    
    'Subjectivity': {
        center:[-152.6586802,36.7255401],
        zoom: 9
    },
    'Ego': {
        center: [-151.6775737,36.4988286],
        zoom: 9
    },
   'Antiego': {
        center: [-151.1275595, 35.9832893],
        zoom: 9
    },
   'Other' : {
        center: [-151.1461410,35.4613327],
        zoom: 5
    },
   'Will' : {
        center: [-151.5809496,35.7875796],
        zoom: 4
    },
   'Freedom' : {
     center: [-152.4691482, 36.1755150],
     zoom: 3  
    },
   'Unconsciousness' : {
        center: [-153.3573469,35.5006736],
        zoom: 6
    },
   'Objectivity' : {
        center: [-152.5100277,35.6125384],
        zoom: 10
    }
        };

    
// On every scroll event, check which element is on screen
//
let activeFlyName = 'Body';


function setActiveFly(flyName) {
if (flyName === activeFlyName)
return;
map.flyTo(fly[flyName]);
document.getElementById(flyName).classList.add('active');
document.getElementById(activeFlyName).classList.remove('active');
activeFlyName = flyName;
}
function isElementOnScreen(id) {
    
    //
    //I think the variables are not in the DOM and that is why the getBoundingClientRect isnt working

var element = document.getElementById(id);  
//var element = document.getElementById(id);
var bounds = element.getBoundingClientRect();
return bounds.top < window.innerHeight && bounds.bottom > 0;
//this no workie... Issue on line 222... getBoundingClientRect
console.log("sup")
}

window.onscroll = () => {
for (var flyName in fly) {
if (isElementOnScreen(flyName)) {
setActiveChapter(flyName);
break;
}
}
};


 
 

 

 

//do we need to add event listeners?
//example.... 
//window.addEventListner("scroll", function(){

//});

 </script>


                    <!--you can also use this space for internal scripts;
        place these within <script> tags-->

                    <!--put your external script links here-->
                    <script type="text/javascript" src="js/bootstrap.min.js"></script>
                    <script type="text/javascript" src="lib/leaflet.js"></script>
                    <script type="text/javascript" src="js/main.js"></script>


</body>

</html>